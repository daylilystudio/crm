import{d as B,r as y,W as U,f as n,p as l,l as d,w as s,j as m,L as $,X as I,h as N,s as h,g as c,m as f,v as w,k as V,V as T,R as E}from"./index.b0b44b5a.js";import{v as W}from"./mixin.fa525c43.js";import{_ as F}from"./plugin-vueexport-helper.2444895f.js";const M={key:1},R={key:1},q={key:1},z=B({__name:"AddItem",props:{arrays:{type:Array,default:()=>[]},labelTitle:{type:String,default:""},keyWord:{type:String,default:"other"},canSave:{type:Boolean,default:!1},showMajor:{type:Boolean,default:!1}},setup(o){const _=o,a=y({tableData:[],rules:{info:[{required:!0,message:"",trigger:"blur"}]}}),p=y(0),g=()=>{a.value.tableData.push({major:!1,info:"",remark:""})},x=t=>{a.value.tableData.splice(t,1)},A=t=>{for(let r=0;r<t.length;r++){const i=t[r];i.id&&delete i.id}return t},D=()=>{_.keyWord==="email"&&a.value.rules.info.push({validator:W,trigger:"blur"})};return U(()=>_.arrays,t=>{A(t),D(),a.value.tableData=t},{immediate:!0}),(t,r)=>{const i=n("el-radio"),b=n("el-input"),v=n("el-form-item"),k=n("el-button"),S=n("el-table-column"),j=n("el-table"),C=n("el-form");return l(),d(C,{model:a.value,rules:a.value.rules,"label-position":"right","label-width":"auto",class:"w-full"},{default:s(()=>[a.value.tableData.length>0?(l(),d(j,{key:0,data:a.value.tableData,"show-header":!1,border:""},{default:s(()=>[m(S,null,{default:s(e=>[$(N("div",null,[o.canSave?(l(),d(i,{key:0,modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=u=>p.value=u),label:e.$index},{default:s(()=>[h("\xA0")]),_:2},1032,["modelValue","label"])):e.row.major?(l(),c("span",M,"\uFF0A")):f("",!0)],512),[[I,o.showMajor]]),m(v,{prop:"tableData."+e.$index+".info",rules:a.value.rules.info},{default:s(()=>[o.canSave?(l(),d(b,{key:0,modelValue:e.row.info,"onUpdate:modelValue":u=>e.row.info=u,placeholder:"Enter "+o.labelTitle},null,8,["modelValue","onUpdate:modelValue","placeholder"])):(l(),c("span",R,w(e.row.info),1))]),_:2},1032,["prop","rules"]),m(v,{label:"Remark",prop:"tableData."+e.$index+".remark",rules:a.value.rules.remark},{default:s(()=>[o.canSave?(l(),d(b,{key:0,modelValue:e.row.remark,"onUpdate:modelValue":u=>e.row.remark=u},null,8,["modelValue","onUpdate:modelValue"])):(l(),c("span",q,w(e.row.remark),1))]),_:2},1032,["prop","rules"]),o.canSave?(l(),d(k,{key:0,icon:V(T),type:"danger",onClick:u=>x(e.$index),plain:"",round:""},null,8,["icon","onClick"])):f("",!0)]),_:1})]),_:1},8,["data"])):f("",!0),o.canSave?(l(),c("a",{key:1,onClick:g,class:"inline-flex items-center cursor-pointer"},[m(k,{icon:V(E),type:"primary",class:"mr-1",size:"small",plain:"",round:""},null,8,["icon"]),h("Add a new one ")])):f("",!0)]),_:1},8,["model","rules"])}}});const H=F(z,[["__scopeId","data-v-2b0deb77"]]);export{H as A};
