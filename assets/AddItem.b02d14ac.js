import{d as j,r as y,W as U,f as n,p as l,l as s,w as d,j as m,L as $,X as E,h as I,s as h,g as c,m as f,v as w,k as V,V as N,R as T}from"./index.f9e09ed2.js";import{v as F}from"./mixin.fa525c43.js";import{_ as W}from"./_plugin-vue_export-helper.cdc0426e.js";const M={key:1},q={key:1},z={key:1},L=j({__name:"AddItem",props:{arrays:{type:Array,default:()=>[]},labelTitle:{type:String,default:""},keyWord:{type:String,default:"other"},canSave:{type:Boolean,default:!1},showMajor:{type:Boolean,default:!1}},setup(o){const _=o,a=y({tableData:[],rules:{info:[{required:!0,message:"",trigger:"blur"}]}}),p=y(0),g=()=>{a.value.tableData.push({major:!1,info:"",remark:""})},x=t=>{a.value.tableData.splice(t,1)},A=t=>{for(let r=0;r<t.length;r++){const i=t[r];i.id&&delete i.id}return t},B=()=>{_.keyWord==="email"&&a.value.rules.info.push({validator:F,trigger:"blur"})};return U(()=>_.arrays,t=>{A(t),B(),a.value.tableData=t},{immediate:!0}),(t,r)=>{const i=n("el-radio"),v=n("el-input"),b=n("el-form-item"),k=n("el-button"),D=n("el-table-column"),S=n("el-table"),C=n("el-form");return l(),s(C,{model:a.value,rules:a.value.rules,"label-position":"right","label-width":"auto",class:"w-full"},{default:d(()=>[a.value.tableData.length>0?(l(),s(S,{key:0,data:a.value.tableData,"show-header":!1,border:""},{default:d(()=>[m(D,null,{default:d(e=>[$(I("div",null,[o.canSave?(l(),s(i,{key:0,modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=u=>p.value=u),label:e.$index},{default:d(()=>[h("\xA0")]),_:2},1032,["modelValue","label"])):e.row.major?(l(),c("span",M,"\uFF0A")):f("",!0)],512),[[E,o.showMajor]]),m(b,{prop:"tableData."+e.$index+".info",rules:a.value.rules.info},{default:d(()=>[o.canSave?(l(),s(v,{key:0,modelValue:e.row.info,"onUpdate:modelValue":u=>e.row.info=u,placeholder:"\u8ACB\u8F38\u5165"+o.labelTitle},null,8,["modelValue","onUpdate:modelValue","placeholder"])):(l(),c("span",q,w(e.row.info),1))]),_:2},1032,["prop","rules"]),m(b,{label:"\u5099\u8A3B",prop:"tableData."+e.$index+".remark",rules:a.value.rules.remark},{default:d(()=>[o.canSave?(l(),s(v,{key:0,modelValue:e.row.remark,"onUpdate:modelValue":u=>e.row.remark=u},null,8,["modelValue","onUpdate:modelValue"])):(l(),c("span",z,w(e.row.remark),1))]),_:2},1032,["prop","rules"]),o.canSave?(l(),s(k,{key:0,icon:V(N),type:"danger",onClick:u=>x(e.$index),plain:"",round:""},null,8,["icon","onClick"])):f("",!0)]),_:1})]),_:1},8,["data"])):f("",!0),o.canSave?(l(),c("a",{key:1,onClick:g,class:"inline-flex items-center cursor-pointer"},[m(k,{icon:V(T),type:"primary",class:"mr-1",size:"small",plain:"",round:""},null,8,["icon"]),h("\u65B0\u589E\u4E00\u7B46 ")])):f("",!0)]),_:1},8,["model","rules"])}}});const H=W(L,[["__scopeId","data-v-e538161a"]]);export{H as A};
